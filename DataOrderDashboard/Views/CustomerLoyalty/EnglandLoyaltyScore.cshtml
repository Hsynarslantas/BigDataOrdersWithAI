@model List<LoyaltyScoreModel>
@{
    ViewData["Title"] = "EnglandLoyaltyScore";
    Layout = "~/Views/AdminLayout/Index.cshtml";
    int count = 0;
}

<section class="content">
    <div class="container-fluid">
        <div class="row clearfix">
            <div class="col-lg-12">
                <div class="card">
                    <div class="body">
                        <h4>
                            <img src="https://flagcdn.com/w20/gb.png" title="England" alt="" style="width:28px;height:auto;vertical-align:middle;margin-right:8px;" />
                            İngiltere Müşteri Sadakat Loyalty Skor Tablosu
                        </h4>
                        <small class="text-muted">Bu Tablo Son Alışveriş Tarihi , Sipariş Sayısı ve Toplam Harcama 
                            Kriterlerine  Göre Hesaplanmıştır</small>
                        <table class="table table-bordered table-hover">
                            <tr>
                                <th>#</th>
                                <th>Müşteri Adı</th>
                                <th>Sipariş Sayısı</th>
                                <th>Toplam Harcama / € </th>
                                <th>Son Sipariş Tarihi</th>
                                <th>Sadakat Skoru</th>

                            </tr>
                            @foreach (var item in Model)
                            {
                                count++;
                                <tr>
                                    <th>@count</th>
                                    <td>@item.CustomerFullName</td>
                                    <td>@item.TotalOrders</td>
                                    <td>@item.TotalSpent €</td>
                                    <td>@item.LastOrderDate?.ToString("dd.MMM.yyyy")</td>
                                    <td>
                                        <div class="progress" style="height:20px">
                                        <div class="progress-bar @(item.LoyaltyScore>=80? "bg-success":item.LoyaltyScore>=50?"bg-warning":"bg-danger")" role="progressbar"
                                          style="width:@item.LoyaltyScore%;font-weight:600;">@item.LoyaltyScore</div>
                                    </div></td>
                                </tr>
                            }
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


